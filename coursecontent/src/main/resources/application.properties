# ===============================
# Server
# ===============================
server.port=${SERVER_PORT:8080}
spring.application.name=coursecontent

# ===============================
# Database (use env vars in Docker)
# ===============================
spring.datasource.url=${DB_URL:jdbc:mysql://mysql:3306/course_content_db1?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true}
spring.datasource.username=${DB_USERNAME:root}
spring.datasource.password=${DB_PASSWORD:rootpassword}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

spring.jpa.hibernate.ddl-auto=${JPA_DDL_AUTO:update}
spring.jpa.show-sql=${JPA_SHOW_SQL:false}
spring.jpa.open-in-view=false

# ===============================
# Upload limits
# ===============================
spring.servlet.multipart.max-file-size=${MAX_FILE_SIZE:100MB}
spring.servlet.multipart.max-request-size=${MAX_REQUEST_SIZE:100MB}

# ===============================
# JWT
# ===============================
application.security.jwt.secret-key=${JWT_SECRET:CHANGE_ME_IN_ENV}
application.security.jwt.expiration=${JWT_EXPIRATION:36000000}
application.security.jwt.refresh-token.expiration=${JWT_REFRESH_EXPIRATION:604800000}

# ===============================
# AWS S3
# ===============================
aws.access-key-id=${AWS_ACCESS_KEY:}
aws.secret-access-key=${AWS_SECRET_KEY:}
aws.region=${AWS_REGION:ap-southeast-1}
aws.s3.bucket=${AWS_BUCKET_NAME:}

# ===============================
# Gemini
# ===============================
gemini.api.key=${GEMINI_API_KEY:}
gemini.api.url=${GEMINI_API_URL:https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent}

# ===============================
# Google OAuth
# ===============================
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID:}

# ===============================
# Redis (optional)
# If you don't run Redis in Docker, set CACHE_TYPE=none
# ===============================
spring.cache.type=${CACHE_TYPE:none}
spring.data.redis.host=${REDIS_HOST:redis}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.timeout=${REDIS_TIMEOUT:60000}
spring.cache.redis.time-to-live=${REDIS_TTL:600000}

# Enable Actuator Endpoints
management.endpoints.web.exposure.include=health,info,prometheus

# Show detailed health info
management.endpoint.health.show-details=always

# Add tags to metrics (helps in Grafana to see which app is sending data)
management.metrics.tags.application=learnhub-backend



